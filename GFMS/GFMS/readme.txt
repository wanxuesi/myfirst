***重要的事情说三遍***
记得重要时点的备份。防止发生系统死机......
记得重要时点的备份。防止发生系统死机......
记得重要时点的备份。防止发生系统死机......
***重要的事情说三遍***

9.22 2018-12-5------------12.
将代码放入到github中，进行版本控制；
--新的加入到VOL的股票，6个月自动更新时，为什么只更新了1-2天的数据？或者干脆没有？但是更新日期却显示已经更新了6个月
发生数据丢失的问题很严重；

--***需要加入Spring 的事务管理功能，能有效的防止系统产生数据不完全的操作***；

--个人配置页面需要界面美化；
--股票可以通过拼音首字母，选择。

9.21 2018-11-30------------12.5
将语录设置为可以更改（因为有错别字等）；


完成语录的导出到EXCEL功能；


9.1 2018-11-29------------11-30
总资金，市值折线图显示，性能不行，需要加入数据库连接池。

c3p0 pool连接池已加入。





9.0 2018-11-29------------11-30
按日净值折线图功能；（注：原始数据不正确；怎么解决原始数据的正确率问题）
2018-11-14日 净值起始值归1.0



8.9 2018-11-28------------11-29

增加市值折线图
增加总资金折线图
公用一个鼠标指针显示；
tooltip: {
	shared: true
}

将三个指标的折线图数值都参考左边的坐标；
去除可用资金折线图；




8.8 2018-11-27------------11-28

增加一个网络连接类判断网络异常（断开时）。
lsjgDate 没有相关记录时，报null的错误（人为故意清空的情况）已经解决。
登录时，自动更新日期错误的时，k线记录没有录入数据，却将更新日期更新上去了，导致再更新时，无法录入丢失的数据。
应该确保K线记录更新了，再更新日期
资金净值增加备注：2014-1-1日 清空净值，净值归1

8.72 2018-11-23------------11-27
“查看历史交易记录”按钮的旁边
可以对单只股票进行每日盈亏额度（正确的操作应该是查看有没有持仓数量，没有，直接调用；有的话，结束日期就是当天了。）(时间跨度直接是交易开始日期到最后的仓位为0的时间段，如果不为零，就是到当天--先做到当天再说)

单只股票持仓量显示在areatitle里（可以知道自己最大的持仓量是多少），类似K线交易记录里面的
（结合K线交易记录及均线看，很有意义：可以看看持仓量和均线走势是否一致，成熟的交易者，应该保持各个级别持仓量和均线的走势的高度一致）。

8.71 2018-11-23------------11-23上午
直接在（特色选股相关操作）点击后k线图的同一个页面下面显示解禁市值相关
（其实功能系统市值选股模块已经有，只要抽出方法即可）----getStockMessage(String zqdm);
解决同日期下多个解禁的bug
点击特色选股里面的具体记录(vol观察池、流通市值结果显示页面)，可以查看解禁时间；
单只股票的交易分类及盈亏分析页面也可以调用getStockMessage的结果页面；



8.7 2018-11-21------------11-22

补全数据（09年到13年的数据）完成！
自选股（历史价格自动模拟）需要添加2列（开始更新日期截止更新日期）这样一目了然；
盈亏分析里面，每只股票的交易起始点需要做个日期显示。后面的股票K线更新日期也要有，可以查看K线更新时间段是否已包含时间交易记录日期段，
作用是便于折线图分析时候用，可以做到及时提示
（因为如果是重excel导入交易的数据的话，是无法进行日、月的盈亏折线图分析，）
股票盈亏分析增加一列K线下载是否已包含：是，否 （如果K线记录为空，就直接‘否’）
解决同日期情况下的是否判断，应该就是包含关系，
显示最长持仓天数

8.6 2018-11-18------------11-20

将均线设置为ma5，10，20，60；取消ema的设置；和系统做到同步,完成
月累计盈亏统计折线图的鼠标点击他的节点可以显示数值。//开启鼠标跟踪，对应的提示框、点击事件会生效enableMouseTracking: true
解决各个股票盈亏记录，如果重组更名的话，统计有重复，而且显示盈亏数据不对，2个账号交易这只股票的名称不一样(计算的数值加上了重复的数值了)
替换掉单只股票交易类型的jfreechart图形切换
去除自动模拟交易后的均线jfreechart的显示，彻底切换过来了。


8.5 2018-11-15------------11-17

修复感想串号的bug；
将饼图进行了插件的替换，（jfreeChart换成了highchart 饼图部分已完成）
将jfreeChart插件更换为hightstock插件！




8.3 2018-10-31------------11-15

添加新股票交易记录然后删除后再添加的时候，出现null后，总金额增加了的bug，解决办法，还要判断getDate是否为null的情况。  

excel导入时通过action完成的。
提供一个感想页面(历史再现)，最好include页面(include 需要放前面一点，这样可以让页面尽早加载到)
感想页面可以获取一个随机的按钮。点击就调用一下随机函数（这样想看的时候，就没必要还要再登陆才能看）。


8.2 2018-10-13------------
将ordershow的页面的提示，包括以后刚进去的主页面，都可以将'感想'分批的加进去。
个人觉得可以放到语录模块中了。增加一个选项。再主页面动态显示。每篇的内容。多好的事！
将股息红利显示有红色改为蓝色，这样3种颜色识别度更强。

8.01 2018-9-29------------
优化random函数；保证一个范围内只出现一次；
如果小于一个数值，比如num*0.7，那么就不用随机生成了。

7.8 2018-9-18--2018-9-29
将语录显示为红色字体；给<input>加stye
语录字体可否加大呢？完成height:35px; font-size:32px;
把资金转入转出的标记红色；
order页面实现了静态字体的颜色变换，即对持仓显示页面增加颜色自动切换功能

可以对center进行熟练应用,直接在<tr>里面通过logic标签设置每一行的字体颜色（控制style标签）
语录的日期显示格式、排序有异常,--用颜色加以分类了。

过滤除权时，成交价和数量为零的记录；//and cjsl>0 and cjjg >0 



7.7---2018-8-15--2018-9-18
中铝国际 过段时间添加，然后就卖出，但是价格记录没有录入后，日盈亏统计null的问题

日盈利分析的时候，基金的日记录虽然有数据，但是统计盈利分析的时候没有显示出正确的结果，好像市值直接丢了。
  解决方法：如果是基金（判断基金的办法：isJiJin），就跳过复权因子，直接将复权因子直接设置为1

进行60分钟（60分钟为除权数据）/日线级别（非除权数据）sz399006等分析模块，比如k线均线展示

动态显示60f/日线级别（前复权）上的买卖点。（不复权的日线价格去模拟没有意义）


虚拟账号对对历史数据进行模拟；在单个股票进行模拟的的日线图（含模拟的级别均线）上标记买入，卖出标记（应该在相应的均线上上标记）。



7.5----2018-8-15
当前价的精度问题？应该保留3位小数
应该在orderDTO中放入是股票还是基金isJiJin，这样就可以判断他的位数如果是股票，就保留2位，基金就是3位；






7.4----2018.8.7
因为需要买入板块etf，所以开放etf相关分析功能
解决512800为什么不显示当前价格的问题

为什么7.13日的数据就是没有加进去呢？但是map中有；
LsjgBO，387行；
//还是删除了吧2018-8-6，因为总有一些数据莫名其妙的丢失，宁可冗余判断吧，总比数据不添加好点
			//if(lsjgDTO.getDate().getTime()<startDate.getTime()){
			//	continue;
			//}

//if(zqdm.charAt(0)=='6'||zqdm.charAt(0)=='5'||zqdm.charAt(0)=='9'){ zqdm="sh"+zqdm;...

股票价格更新后日期应该可以修改。因为有时候，记录没有进来。（解决技巧，手动添加时间段到当前日期，会自动补上丢失的记录的，这样就不需要修改日期，再更新了）
为什么更新的时候，6.1日 更新会删除了5.31日的记录？？？
7.3----2018.4.1--5.23(中间暂停一个多月)

T 的时候，可以追踪到Ｔ的每一对：加一列串号；


7.21----2018.3.30

解决不同用户之间k线交易记录数据打架的问题
解决少数BS点还在底端的bug
flags_line点应该按照时间顺序添加，不然线就是乱的

7.1----2018.3.28 --3.29



解决flags_line 点重复的问题
显示在具体的成交价格位置上，才行
在这个历史交易记录显示页面里面可以通过K线图显示每个交易的时间节点。
将交易记录着色到K线图上并显示相关信息；
获取交易记录json，包含以下几个字段日期（过滤掉时间信息），买卖类型（买，卖），交易类型（高频，短线...）


6.71----2018.3.23--3.28


stock中显示3-5-10ema日均线  20-60均线；
股票语录/感悟添加日期字段（flag2）
增加盘中，盘后感悟，记录当时的心情。苦酒美酒都要留着回味，才能铭记。
日盈亏最大最小直接显示表示出来 带字体颜色（因为数据多的时候，虽然有颜色标记，看是还是很难找出来）

6.60----2018.3.20

可以动态的将历史价格以K线的形式展现出来了

6.50----2018.3.14
流通盘选股的时候，出现连接不上的故障，是东方财富网html格式变了？变了div class变成有空格的了
原因是东财网改变获取数据结构了，变为动态获取。
应对方法，获取sina的数据。如果以后新浪也变为动态，需要运用httpunit工具获取。
sina也有一个页面也是动态的数据了。

6.42----2017.5.7

点击登录后，“登录”字体应该消失，出现loading登录中。。。
简约、详细切换的时候，也会股票混乱的问题；

6.4----2017.5.7
交叉刷新2个T，简化，时，存在页面切换的混乱。
解决当前人员的开始日期显示错误的一个bug；

6.3----2017.2.8


修正特色选股，遍历时，出现size=0的bug；
Vol分析的结果页面里应该有提示“点击显示日K线-VOL图”
特色选股里面也应该有K线图功能，以及提示功能；
增加2017,2018等
6.2----2016-12-3

解决日盈亏分析时的一个bug sql缺少 ‘and ’
解决tmp=null的除权因子的一个bug；

将当天的历史数据也放入到lsjg表中，如果复权因子为null，则标记为tmp，只可以VOL的时候用；如果是一个季度的第一天怎么处理？按季度查找的时候，就减少了当天了。
用到的lsjg的数据，必须去除flag1=tmp,保留standand的数据

在股票历史价格日期更新显示栏，增加显示股票名称列；

解决tupeQuery偶尔异常的问题,个人觉得去除tupeQuery方法，改用sqlQuery方法。貌似还有danweiDTO无法得到映射的问题。

股票第一天的44%的涨幅的也不能算；从日期上考虑的，去除日期最小的一个，即可。使用 where  DATE not in(select min(DATE)...


Vol股票池，和虚拟的自选股拥有一键批量更新功能，类似与自动登录时的那种持仓更新；（如果某只没更新成功，提示信息，但不打断。）

如果没有股票池自动更新功能，太麻烦了，每天手动一个一个更新，用户去做，是不可能的事。

注意事项，1，如果没有该更新date表记录，就要添加date更新表，如果有，但是date表 d 开始日期>6个月前的记录，需要更新至少6个月的记录。然后upadedate更新表；

Vol股票池双击，可以查看该股票的日线图（作用，可以具体看成交量）
<IMG src="http://image.sinajs.cn/newchart/daily/n/<bean:write name='FULLZQDM' scope='request'/>.gif">







V6.1---2016-11-18
可以点击直接进入历史记录更新页面
换手率选股：即，换手率新低倒数三个。
VOL动态分析结果(默认6个月内历史数据)[4天内VOL新低，该日期显示为红色
去除一字涨停的记录；
成交量最小的三条记录；
select * from lsjg where zqdm='2582' and  high!=low  order by volume asc fetch first 3 rows only;
返回对应的日期就行；
0-最小的,1-第二,2第三；

（60/20日线的60/20的地方标志或着色。作用：看清未来的拐点方向，提前判断。注：中信证券软件已编程实现）


V6.0---2016-11-17

编写获取复权因子的最大值方法，double fqyzNow  =lsjgBO.getNowFqyz(zqdm);

select max(fqyz) as fqyz from lsjg where zqdm='2695' and date(date)>'2016-08-01';

如果是虚拟账号 盈亏分析时，get一个历史记录的价格，应当获取adjclose 来确定持仓市值；如果是现实账号，get一个历史记录的价格，应当获取close的价格，千万不能搞混淆了；

成交记录的成交价格列，显示的成交价修改为2位小数；



V5.9---2016-11-16

增加复权因子一列；

解决复权价的自动添加问题；

模拟采用复权价模拟；

模拟账号一切分析应该以复权价进行，即提供接口如果是虚拟账号，则按照复权价进行操作分析；

lsjg的数据应该把复权价全部更新上去，即删除原来的数据，更新新的数据；



V5.8---2016-11-15



有一个隐藏/显示对应的按钮。可以隐藏、显示已经T的数据；(简约显示，全部显示)
还是个人配置按钮好点，可以单独修改，也可以通过个人配置进行修改；

资金股息维护显示页面，份额如果当前记录为零，则显示“--”
order显示中，当前价修改为：保留2位小数

股票名称显示里面，隐藏基金名称；

持仓股票页面需要直观的显示各种交易分类的详细情况。

更直观的显示长，中，短，高频的股票数额；




V5.7---2016-11-10
优秀推荐股有书的图标显示；
对选出来 的股票进行排序；按照流通市值大小排序。//Collections.sort(gpmcList,);

特色选股中，标记蓝色 符合要求的新股【连续涨停的，没有意义，买不到】
判断新股条件--流通市值小于8个亿，date流通市值>流通市值/2  定义为新股；以后该方法抽取出来；


特色选股，解禁时间默认为2年的时间。

改造返回list的函数为返回对象。

此处应该还要计算总市值，判断是否符合条件；暂缓；比如30亿的总盘子，全流通，也还是很不错的。
股票名称显示里，增加股本一列（万股）不需要，根本不需要看到。
如果发现股票名称表里的股本为零，就更新股本；
如果股本有，直接通过当前价，先判断总市值，总市值大于选定的150亿，直接跳过。大概可以跳过70%的股票。
解决市值搜索的效率问题；


解决因为东财网上，因为四舍五入后，解禁市值为负的问题；



解决选出的股票数量以亿或者万为单位的问题；mathUtil.longTOString





V5.6---2016-10-23

特色选股模块：
流通盘选股：即，可以动态分析每只股票的解禁时间，同时，通过解禁时间，当前价格，判断某个时间点之前的流通股市值，从而选出股票。


将20.3万，或者22.33亿转换为long型的数值。mathUtil中实现；

股票批量更新的时候，添加判断，是股票还是基金。为后面的特色选股提供基础；


ykfx.jsp 增加盈利股票累计：160000    亏损股票累计：20000


YkfcZxt.do中的最大值和最小值取出，标记。
将日盈亏分析中开始就周末/节假日的数据去掉；

V5.6---2016-9-27
解决一个导入excel的bug；
点击具体交易记录页面后的记录页面可以进行标记。
双击确认后，后变色/变亮，灰色为已经合并后的记录。jiluUpdateSpc.do
兼容单股票T的时候，可以多选同时进行，方便历史炒作的股票，批量分析研究。jiluUpdateSpcs.do
解决双击后，如果几个股票记录都开着的话，session调用混乱的问题。

如果 买卖合并后，合并的股票数目为零，则显示T的利润，颜色红色。如果股票合并的股票数目不为零，显示目前的股票数目差；


持仓股票页面增加添加交易记录按钮。
相关页面的title显示股票名称。

--V5.6---2016-4-18

-运用hightstock.js  生成日线图；
1、先要加载该股票的历史数据，数据库里面搜索即可。
2、显示均线；
3、然后加载交易记录着色或者标记；




V5.5---2016-4-17
更新版本说明：
基金成本价有5元的误差的问题
混合成本价：1.087改为有效数三位小数；
解决etf购买，手续费的问题;

持仓股票里面可以查看历史交易记录的功能；

盈亏分析排序后的界面也可以查看历史交易记录的功能；



V5.4---2016-3-21

股息红利不需要换算成净值；

解决基金不收印花税的问题；

解决基金eg1.0182，小数点后的显示精度问题；



V5.3---2016-3-18

解决成本为负数时，收益率为负的bug；

模拟中的类型如果是包含F，f也不显示。

提供单位净值（比如10000份，每份净值正1元。现在是4.5元。如果加入资金，就通过动态的净值折算为份额累加；如果减资金，就折算为份额累减；(是不是用sum(*)where flaatFlag!=null)这样可以算出复合收益率即基金净值，这个值是每天都是动态的。）
只需要记录份额就行了，每次资金进出，可以根据动态的净值，折算净值。

默认可用资金eg20万，那么份额为20万，初始份额为200 000；这样的话，就不需要建立数据表了



V5.2---2015-12-30

中长线等仓位异常情况下，卖出系数K的设定；

如果账号添加自选股时，在更新日期里面也应该有lsjg更新日期；
如果是虚拟账号，重新登录时则自选股的价格也应该自动更新；
虚拟账号不需要对持仓股票进行历史价格的更新。因为持仓的股票，必然在自选股里面；

重新登录后，自选股更新历史价格，为什么开始2天的价格没有更新到？但是lsjgDate里面却写着更新到呢？
应该是更新出了问题；初始化时将endDate设置为null，自动更新时，判断如果为null，就将开始日期赋给新的开始日期；
解决手动更新日期时，结束日期null时的逻辑问题；--有部分坏数据没有清空；




V5.1---2015-12-26

添加用户时，实际账号，虚拟账号
显示时，也显示账号分类
将虚拟账号分类放入baseusercontext中；
历史价格显示页面，恢复复权价显示；

历史价格的日期不够精确的问题。（是按季度添加的，有冗余）解决；




V5.0---2015-12-22

考虑股票买入数量较大时，减去成交额，可用资金为负的情况；

修改 自动模拟交易中，分析当天日期，报历史价格日期2015-12-24更新不全，其实当天的（2015-12-24）盘中没法更新的问题增加提示1（结束日期"+last_rq+"是否已经添加呢？），提示2(结束日期选择当天前一天)

修改自动模拟的第一次的买入条件；即 &当天前的2天价格要>=当天前的1天价格

自动模拟中仓位的算法，判断几只股票，总仓位就占几分之一，然后交易类型再分仓位的算法（判断买入时，需要获得历史当天的价格计算可以买入多少股）；

资金的复利买卖操作(严格执行各个仓位的原有资金。该资金的变动不影响其他类型的分析)





V4.9---2015-12-21

初始化账号时，应该清空该用户的自选股；删除用户时，也要删除该用户的自选股（暂时不需要，因为虚拟账号需要用到自选股里的股票）；

股票历史价格自动模拟操作 静态仓位（5000股）；

修复 历史价格日期更新情况->历史价批量添加功能->button(添加)日期没有间隔时，报“择时间段和原有添加历史价格记录有间隔，请从新选择时间段！”的bug；

历史价格自动模拟相关功能完善
通过该证券代码，查找lsjgDate中的开始日期，和结束日期；
看看是需要分析的日期是否在lsjgdate的日期范围内；
如果不在，提示更新历史价格日期后再模拟；



V4.8---2015-12-16

将jiluAdd和jilu批量添加逻辑整合到一起，也为后面的历史记录模拟操作提供接口直接为true

增加持仓股票总成本，持仓股票总盈亏， 持仓股票盈亏占比(成本30224.51,盈亏985.49,盈亏占比3.16%)

动态仓位报警 算法模块： 比如一直涨停，就是好事情，不应该报警；



V4.7---2015-12-10



兼容移动设备，修改所有双击为单击。

修改手机浏览器 或者MacBook下，盈亏分析点击无法显示的兼容性问题。

解决时区晚8个小时的问题（远程服务器的注册表有问题，只能替换java里面的GMT文件）
更新Excel.zip里的TXT内容；加入modezx模板；

批量导入时  卖出类型的股票，报异常的问题 解决

将日志目录修改到C盘去

将系统临时表空间修改到C盘去(为了配合有些用户没有D盘的情况)在可视化界面先删除，然后删除d盘的文件夹。然后用语句建立

tomcat 闪退的问题（应该是远程服务器内存不够的问题，重启会好很多，股票名称维护，不要一下子全部显示出来。）
用上tomcat客户端启动，部分jsp页面无法解析的问题。用命令窗口就可以。
后来将common里的lib全部部署到服务器上了。问题解决




V4.6---2015-11-30



解决自选股重复的问题（判断该用户id下的手否存在该股票）；

对股票的交易分类增加一列：对应自动模拟操作的类型；该列为空时，自动模拟操作下的选择里面自动过滤；

交易类型备注里面replace后，只能是数字；


股票历史价格的均线显示；


月盈亏分析中，跨整月停牌，会报错，为什么10月不报错呢（10月也没有历史数据啊）？--去除SQLDate里面隐藏的时间，再比较即可；


月盈亏分析查询页面，第一个月自动获取无效的bug



V4.5---2015-11-19
登录时，只更新自己的持仓股票,优化数据库查询；

将 日期 开盘价 最高价 收盘价 最低价 交易量(股)数据补齐；

再更新数据库的数据（先删除，后添加）

取消除权价 列；

增加自选股模块；

增加自选股的限制，只可以看到自己的自选股；

增加自选股批量删除功能；
 
增加自选股的当前价；

//刷新设置（默认5秒）；
//取消自动刷新功能，因为影响其他操作 
提供手动刷新功能；
 
解决相同用户自选股相同时的冲突问题（增加id）；







V4.4---2015-11-10
导入历史数据的Excel文件通过java类来实现（GCMS），追踪导入数据的错误及异常，现在是通过jsp实现的，无法追踪到具体的错误。

修复一个历史记录导入时，order没有持仓股票时，显示不出股票的bug，set flag1=‘501’；

累计交易费：34240.00？？导入是成交金额一定要为正；JiluUploadActon 如果小于0，抛出异常提示；

修复一个历史记录导入时，部分记录设置为已处理，还有部分没有设置时（总累计盈亏： 19510.00    股票盈利： 19510.00  没有这么多啊）的bug 
解决方法：and flag1='已处理'

根据自己账号的等级，从系统配置里获取可以持有几只持仓股票，然后判断! 
买入的时候,调用方法isCcgpOK(String zqdm)
(买入时判断) 3/7/15/30只持仓股票！！！if(买入){isCcgpOK}




V4.3---2015-11-9

将交易记录查询改为降序排列；

控制一般账号的有效时间， 然后添加账号的时候，就设定有效时间；增加2列timestamp；

当前用户信息维护页面中，也查看账号的有效时间；

增加用户修改功能；（可以修改用户的角色，和结束时间）

将Tree菜单改为动态的菜单；

将登陆后的颜色由蓝绿色改为白色基调；




V4.2---2015-11-5

去除意见建议附件的上传、下载功能（数据库负载太大）

系统配置，可以修改单个参数页面

登录是加载系统配置？？是！放入SystemMap
需要调用的Action adduser,clearAll;

默认初始资金（20万）等等；

是否dwr显示语录等；





V4.1---2015-11-4

添加用户的功能（账号等），默认账号是什么(NX999999)？，添加用户的同时，添加一个默认的个人配置记录(先加载一个id为1的config，然后修改id)；

删除用户，应该先清除数据，在删除用户和个人配置；

删除冗余的代码；


可以添加删除修改地区；
删除时提示具体城市，防止误删除；

GFMS系统设置模块
SystemConfig;
functionCode[String] functionValue[String];



V4.0---2015-10-28

当前持有股票各交易类型,一旦有一个大于预定值（每只股票不宜超过50%[个人配置]），就报警；
包括预警管理，任何一个Jifl超过35%[个人配置]，并且亏损，就应该报警  应该有预警公式

如果买入的股票亏损已经超过个人配置[10%],就报警；


V3.9---2015-10-25

修复交易分类dwr获取时，其他用户的自定义也显示的bug。
修复‘数据分析【交易分类】’显示中，其他用户的自定义的交易分类也显示在饼图中的bug。

系统交易分类显示为红色

如果是派现， 放入到分红的里面不对；相当于卖出0股，交易金额为送的金额；这样就是十分的准确了。

config（参数配置）表：
报警开启/关闭；--什么时候提示自动提示亏损幅度（现在是10%），
仓位参数
佣金、印花税 过户费

编写getQsje方法。以后动态直接调用就行了。




V3.8---2015-10-24
将交易分类等的下拉框动态化。即 可以配置；自己定义操作分类。
可以添加、删除、显示
可以添加自己的lx，删除自己的类型；系统lx（即flag1为空的类型）不可以删除；但是可以显示；
如果自己的持有仓位里还有该类型，则不能删除此类型（在deleteAction里增加判断）。


V3.7---2015-10-21

除权功能模块：
以后可以前台当前股票持仓中一键加入，即一键除权；
除权的，可以卖的股票数目多了出来，也要有交易记录；应该要后天加上0成本的股票  要注意交易分类；通过K系数。
除权后的价格设置。直接设置规则，点击确认，即可自动除权；相当于0元买入多少数量的股票。


修正一个撤销已执行的记录时，order表中的userId丢失的问题；
修正一个除权时，没有填写内容就直接提交后插入空记录的问题；


V3.6---2015-10-16


在“股票名称显示”页面，提供通过东方财富网的网页，解析（获取股票名称）股票代码和股票名称，比对数据库做添加或更新操作。

可以将股息红利按时间段分布，这样的折线图才更准确，不然越向后，越失真。

V3.5---2015-10-8

lsjgDate应该有个起始更新日期，如果折线图统计是，操作的日期不在更新日期范围内，就要提示更新。
对更新Date的开始结束进行判断。
select min(date),max(date),zqdm from lsjg where zqdm in(select  distinct zqdm from lsjg) group by zqdm


V3.4---2015-10-7
批量设定为“已“的时候，该股票在sjgDate 中的日期如果没有，就要添加；
lsjgDate 中的添加日期，必须是记录表中的交易日期，因为有模拟交易盘，所以不能是当前日期；

完善一些界面的语录
lsjgDate里面保存更新日期为零点，防止计算日期天数出错；
修正历史价格明明更新过了，还报错改日期没更新的bug（保存更新日期为零点的原因引起 判断是应该为<=）；
V3.3---2015-10-6

历史价格表显示页面可以通过证券名称或者证券代码查找更新记录；
显示历史数据更新日期表的内容（可以直观的看到更新到哪一天了）。
增加date字段（现在是静态的。。。不够准确！）；
资金进出增加时间日期，
资金进去按照时间排序desc；


V3.2---2015-10-4
获取历史数据的另一种办法，通过新浪的历史数据解析； 
http://money.finance.sina.com.cn/corp/go.php/vMS_MarketHistory/stockid/002582.phtml?year=2015&jidu=3

编写工具类，获取html文件，待日后解析；太强大了，这玩意。
解析table元素--完成；

重新构造sina数据更新逻辑.





V3.1---2015-9-28
修改一个报错的bug，修改为：（但是该时段(15年9月)的距离现在时间很近，获取当前价格失败，请确认已连接网络！）
提供语录、优秀文章等，
每次动态抽取语录一个,放入到每个界面的语录的位置。

将语录放到每个页面中，类似loading的那种（style="border: 1px solid #FFFFFF;width=500px;"   readonly）；



V3.0---2015-9-27
如果是卖出的话，通过dwr获取可卖数据；
直接反映在交易页面上
当点击“成交数量”改变时，
如果是买入，则不判断;
如果是卖出，要根据交易分类来判断可以卖出的最大股数，不能超过最大股数。 getCjsl（）；

如果是买入的话，通过dwr获取可用资金KYZJ，进行运算得到可用买入的股票数量；去100的整数倍；
选择卖出/买入时，成交数量和成交金额都要清空；
双击获取全部成交数量；




V2.9---2015-9-26

当前股票浮亏10%自动提示止损。由OrderShowAction进行判断，输出到前台页面;

当前持有股票各交易类型（高频，短，中，长，超长线等占总资金的比值）;

仓位占比--饼图；

V2.8---2015-9-25
在当前资产股票显示页面里显示 持有股票各只（2582,600547等）仓位占比--饼图（每只股票不宜超过40%）；

当前持有股票的一只的交易类型（中长短。。。）仓位占比--饼图；

V2.7---2015-9-24
按月/按天盈亏折线图做出来。

V2.6---2015-9-23
double shuju=20000.0; 不稳定？？double shuju=20000d
解决了JFChart的三个jar包放到项目中的lib中就报错的问题。


V2.5---2015-9-22

不需要当前用户（虚拟用户）数据时，提供一键清除(在当前用户信息维护页面里面)初始化可以资金金额为20W后期可以配置。
解决空仓情况下的几个null的问题；

更新版本说明。

V2.4---2015-9-22

资金进出及股息显示 倒序排列，当前页面也显示总的 可用资金
Data中的可用资金的bug解决；
提供虚拟操作模块。即多账号功能，每条数据都应该有用户名标记；现在如果虚拟操作，需要备份数据了。
作用：可用实现股票的模拟操作、分析；也可以同步进行操作；


可用创建多个虚拟账号
可用配置这个资金数额。

V2.3---2015-9-17
lsjgdate记录上次某只股票导入的时间点；
已经通过LsjgdateBO初始化了持仓股票的Lsjgdate，添加了该股票导入的历史价格的截止日期；
void updateLsjgs(Date startDate, Date endDate, String zqdm) //目前该方法不太稳定；后续需要修改

增加历史价格日期表（lsjgdate）及该模块相关功能；

通过main程序，能够下载csv文件到本地服务器；
通过main程序，能够将csv文件解析放入到数据库；
自动化实现2个main函数的无缝衔接；
智能判断需要导入的股票，不需要将所有股票都导入
将需要导入的数据；能够智能的判断上次导入的时间点；本次打开后，自动更新到最新的历史数据；autoUpdateLsjgs（）；
添加历史价格时，需要通过日期和证券代码查找，如果已经存在，则不需要添加 






V2.2---2015-9-14
可以选择起始和结束月份、日期，显示每月、每天的盈亏数据，（默认点击日期查找为一个月时间。。。）
修改规则，如果是查找本月，就是当天价；（这样更准确，因为当天是没有历史价格的。只有当前价格）
上证的股票导入进来；（通过StockSHAdd批量生成；方法：浏览器打开http://quote.eastmoney.com/stocklist.html#sh复制到StockSHAdd类中，执行即可；）




V2.1---2015-9-13
需要导入历史价格表。
增加历史价格模块。
1, 通过main程序，能够下载csv文件到本地服务器（貌似下载程序不太稳定）；
2，通过main程序，能够将csv文件解析放入到数据库；


V2.0---2015-9-12

将单个股票的分时图，k线图等放上去；
将证券名称显示在listshowone.jsp页面上；以便更好的看。
解决股票名称添加时的长度问题。比如000333，存入数据库应该为333；又改掉了//格式化一下；极度简化，存入数据库；
自动导入股票，股票代码，证券交易所。导入是的名称，代码应该也要做到比如000333，存入数据库应该为333；好想你，存入数据库应该为‘好 想 你’又改掉了//格式化一下；极度简化，存入数据库。
批量导入记录的时候，也要去掉000,还有空格；
记录的添加、修改、查找，也是极度简化模式；
数据库的 记录表中的证券名称replace一下，去掉所有空格；
盈亏分析多选框页面中//美化下字符；

股票名称表也需要replace一下，去掉所有空格；
股票名称显示，删除，修改，添加。导入等；
去除一个股票名称批量添加或者更新时的一个证券名称为空的bug；


V1.9---2015-9-8

将计算器的功能单独放出来，因为空仓的时候，无法调用。

将历史实际亏损的股票，如果再次买入可以一键加入到浮亏中。
可以显示混合成本，即历史亏盈和现在的亏盈合并。这样可以有一个比较，合并后就没有这次的操作合并了。


V1.8---2015-9-7

证券代码可以输入000，后台自动去掉（查找时，添加股票名称等）
证券名称，可以不用输入空格，后台自动加入空格（交易记录的查找，添加股票名称，交易记录添加的时候）

V1.7

撤销一条已处理记录后相印的逻辑处理及运算；

V1.4
实现批量导入后，批量已处理的逻辑处理及运算；
实现股票计算器功能，任意一个数值改变，其他数值都相应的改变。

V1.3
对股息红利等进行动态管理。
增加可用资金，等。颜色显示正负数；

V1.2
股票盈亏的排行榜

持仓股票进行设计。
短中长线的盈利显示。盈亏数据加上当前市值了。

V1.1---2015-8-8
增加版本控制。
对记录可以通过模板批量导入。也可以手动添加一条记录。
1、对交易记录可以修改，获取，删除，添加。
解决卖出时，股票数量负数的关系，清算金额的负数关系。
成交金额自动计算。
修改导入Excel时，负数的关系；
历史记录中的股票，每5只股票一行，并对其交易费用公式的修订。
